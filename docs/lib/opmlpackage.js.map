{"version":3,"file":"opmlpackage.js","names":["myVersion","myProductName","exports","parse","stringify","htmlify","getOutlineHtml","markdownToOutline","outlineToMarkdown","expandInclude","visitAll","expandIncludes","utils","require","opmltojs","xml2js","request","opmltext","callback","isScalar","obj","addGenerator","theOpml","head","generator","err","convert","sourcestruct","deststruct","atts","undefined","x","subs","Array","isArray","i","length","newobj","Object","push","options","explicitArray","parseString","jstruct","message","theOutline","opml","body","opmlify","htmltext","indentlevel","add","s","filledString","addSubsHtml","node","forEach","sub","text","visitSubs","theNode","theSub","mdtext","flAddUnderscores","toString","lines","split","lastlevel","stack","lastnode","currentsubs","theLine","thislevel","flInsert","stringDelete","beginsWith","stringContains","parts","name","ctpops","pop","newnode","addAtts","dolevel","httpRequest","url","response","data","code","statusCode","type","expandBody","theBody","theNewBody","lastNewNode","currentOutline","getNameAtt","nameatt","innerCaseName","inlevelcallback","nodecallback","path","newNode","copyScalars","outlevelcallback","bodyVisiter","visitcompletecallback","readInclude","theIncludeNode","console","log","expandedBody","doLevel","levelcompletecallback","doOneSub","ixsub","subpath","getBoolean","iscomment","theIncludedOutline","theNewOutline"],"sources":["../../src/lib/opmlpackage.js"],"sourcesContent":["const myVersion = \"0.4.24\", myProductName = \"opmlPackage\"; \n\nexports.parse = parse; \nexports.stringify = stringify; \nexports.htmlify = getOutlineHtml; \nexports.markdownToOutline = markdownToOutline; //1/3/22 by DW\nexports.outlineToMarkdown = outlineToMarkdown; //1/3/22 by DW\nexports.expandInclude = expandInclude; //1/4/22 by DW\nexports.visitAll = visitAll; //3/18/22 by DW\nexports.expandIncludes = expandIncludes; //5/11/22 by DW\n\nconst utils = require (\"daveutils\");\nconst opmltojs = require (\"opmltojs\");\nconst xml2js = require (\"xml2js\");\nconst request = require (\"request\");\n\nfunction parse (opmltext, callback) { //returns a JavaScript object with all the info in the opmltext\n\t//Changes\n\t\t//12/27/21; 10:06:12 AM by DW\n\t\t\t//Under some circumstances, xml2js.parseString will return a result of null. It shows up in Daytona's log. So we check for it, and if it comes up, return an error. \n\t\t//1/18/21; 10:21:27 AM by DW\n\t\t\t//I created an OPML format that added a \"subs\" attribute to each headline that had subs. This was an error, but was still valid OPML, but it caused this code to fail, because subs was the wrong type. It is always a mistake, if it's possible that your OPML will be converted to a JS object. So I protected against it here, and don't copy an attribute called subs if it's present. It's possible that this fix could cause problems too, btw. The code is in Old School, look for saveDayInOpml. \n\t\t//4/18/20; 5:43:20 PM by DW\n\t\t\t//Changed the callback to return the standard format, with an err first, and theOutline second. \n\t\t\t//I didn't want to break all the apps that use this as it was configured, but in the future, use this entry point not the one without the error.\n\tfunction isScalar (obj) {\n\t\tif (typeof (obj) == \"object\") {\n\t\t\treturn (false);\n\t\t\t}\n\t\treturn (true);\n\t\t}\n\tfunction addGenerator (theOpml) { //follow the example of RSS 2.0\n\t\ttry {\n\t\t\ttheOpml.head.generator = myProductName + \" v\" + myVersion;\n\t\t\t}\n\t\tcatch (err) {\n\t\t\t}\n\t\t}\n\tfunction convert (sourcestruct, deststruct) {\n\t\tvar atts = sourcestruct [\"$\"];\n\t\tif (atts !== undefined) {\n\t\t\tfor (var x in atts) {\n\t\t\t\tif (x != \"subs\") { //1/18/21 by DW\n\t\t\t\t\tdeststruct [x] = atts [x];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tdelete sourcestruct [\"$\"];\n\t\t\t}\n\t\tfor (var x in sourcestruct) {\n\t\t\tvar obj = sourcestruct [x];\n\t\t\tif (isScalar (obj)) {\n\t\t\t\tdeststruct [x] = obj;\n\t\t\t\t}\n\t\t\telse {\n\t\t\t\tif (x == \"outline\") {\n\t\t\t\t\tif (deststruct.subs === undefined) {\n\t\t\t\t\t\tdeststruct.subs = new Array ();\n\t\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray (obj)) {\n\t\t\t\t\t\tfor (var i = 0; i < obj.length; i++) {\n\t\t\t\t\t\t\tvar newobj = new Object ();\n\t\t\t\t\t\t\tconvert (obj [i], newobj);\n\t\t\t\t\t\t\tdeststruct.subs.push (newobj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar newobj = new Object ();\n\t\t\t\t\t\tconvert (obj, newobj);\n\t\t\t\t\t\tdeststruct.subs.push (newobj);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdeststruct [x] = new Object ();\n\t\t\t\t\tconvert (obj, deststruct [x]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tvar options = {\n\t\texplicitArray: false\n\t\t};\n\txml2js.parseString (opmltext, options, function (err, jstruct) {\n\t\tif (err) { \n\t\t\tcallback (err);\n\t\t\t}\n\t\telse {\n\t\t\tif (jstruct == null) { //12/27/21 by DW\n\t\t\t\tlet err = {message: \"Internal error: xml2js.parseString returned null.\"};\n\t\t\t\tcallback (err);\n\t\t\t\t}\n\t\t\telse {\n\t\t\t\tvar theOutline = {\n\t\t\t\t\topml: new Object ()\n\t\t\t\t\t}\n\t\t\t\tconvert (jstruct.opml, theOutline.opml);\n\t\t\t\taddGenerator (theOutline.opml); //8/6/17 by DW\n\t\t\t\tif (isScalar (theOutline.opml.head)) { //8/6/17 by DW\n\t\t\t\t\ttheOutline.opml.head = new Object ();\n\t\t\t\t\t}\n\t\t\t\tif (isScalar (theOutline.opml.body)) { //8/6/17 by DW\n\t\t\t\t\ttheOutline.opml.body = new Object ();\n\t\t\t\t\t}\n\t\t\t\tcallback (undefined, theOutline);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t//xml2js.parseString (opmltext, options, function (err, jstruct) {\n\t\t//if (err) { //4/18/20 by DW\n\t\t\t//callback (err);\n\t\t\t//}\n\t\t//else {\n\t\t\t//var theOutline = {\n\t\t\t\t//opml: new Object ()\n\t\t\t\t//}\n\t\t\t//convert (jstruct.opml, theOutline.opml);\n\t\t\t//addGenerator (theOutline.opml); //8/6/17 by DW\n\t\t\t//if (isScalar (theOutline.opml.head)) { //8/6/17 by DW\n\t\t\t\t//theOutline.opml.head = new Object ();\n\t\t\t\t//}\n\t\t\t//if (isScalar (theOutline.opml.body)) { //8/6/17 by DW\n\t\t\t\t//theOutline.opml.body = new Object ();\n\t\t\t\t//}\n\t\t\t//callback (undefined, theOutline);\n\t\t\t//}\n\t\t//});\n\t}\nfunction stringify (theOutline) { //returns the opmltext for the outline\n\tvar opmltext = opmltojs.opmlify (theOutline);\n\treturn (opmltext);\n\t}\nfunction getOutlineHtml (theOutline) {\n\tvar htmltext = \"\"; indentlevel = 0;\n\tfunction add (s) {\n\t\thtmltext += filledString (\"\\t\", indentlevel) + s + \"\\n\";\n\t\t}\n\tfunction addSubsHtml (node) {\n\t\tadd (\"<ul>\"); indentlevel++;\n\t\tnode.subs.forEach (function (sub) {\n\t\t\tadd (\"<li>\" + sub.text + \"</li>\");\n\t\t\tif (sub.subs !== undefined) {\n\t\t\t\taddSubsHtml (sub);\n\t\t\t\t}\n\t\t\t});\n\t\tadd (\"</ul>\"); indentlevel--;\n\t\t}\n\taddSubsHtml (theOutline.opml.body);\n\treturn (htmltext);\n\t}\nfunction visitAll (theOutline, callback) {\n\tfunction visitSubs (theNode) {\n\t\tif (theNode.subs !== undefined) {\n\t\t\tfor (var i = 0; i < theNode.subs.length; i++) {\n\t\t\t\tvar theSub = theNode.subs [i];\n\t\t\t\tif (!callback (theSub)) {\n\t\t\t\t\treturn (false);\n\t\t\t\t\t}\n\t\t\t\tvisitSubs (theSub);\n\t\t\t\t}\n\t\t\t}\n\t\treturn (true);\n\t\t}\n\tvisitSubs (theOutline.opml.body);\n\t}\n\nfunction markdownToOutline (mdtext, options) { //1/3/22 by DW\n\t//Changes\n\t\t//1/12/22; 5:17:25 PM by DW\n\t\t\t//New optional param, options. \n\t\t\t//options.flAddUnderscores, defaults true. \n\t\t//1/8/22; 10:54:14 AM by DW\n\t\t\t//Any atts that show up at the beginning of a file are ignored. Previously they would cause the process to crash.\n\t\t//1/3/22; 5:50:36 PM by DW\n\t\t\t//Turn a markdown file as created by LogSeq or a compatible product \n\t\t\t//into an outline structure compatible with the one that is created from \n\t\t\t//parsing OPML text.\n\tvar theOutline = {\n\t\topml: {\n\t\t\thead: {\n\t\t\t\t},\n\t\t\tbody: {\n\t\t\t\tsubs: new Array ()\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\tif (options === undefined) { //1/12/22 by DW\n\t\toptions = new Object ();\n\t\t}\n\tif (options.flAddUnderscores === undefined) {\n\t\toptions.flAddUnderscores = true;\n\t\t}\n\t\n\tmdtext = mdtext.toString ();\n\tvar lines = mdtext.split (\"\\n\"), lastlevel = 0, stack = new Array ();;\n\tvar lastnode = undefined, currentsubs = theOutline.opml.body.subs;;\n\tlines.forEach (function (theLine) {\n\t\tvar thislevel = 0, flInsert = true;\n\t\twhile (theLine.length > 0) {\n\t\t\tif (theLine [0] != \"\\t\") {\n\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tthislevel++;\n\t\t\ttheLine = utils.stringDelete (theLine, 1, 1);\n\t\t\t}\n\t\tif (utils.beginsWith (theLine, \"- \")) {\n\t\t\ttheLine = utils.stringDelete (theLine, 1, 2);\n\t\t\t}\n\t\telse { //is the line an attribute?\n\t\t\tif (utils.stringContains (theLine, \":: \")) {\n\t\t\t\tlet parts = theLine.split (\":: \");\n\t\t\t\tif (lastnode !== undefined) { //1/8/22 by DW\n\t\t\t\t\tvar name = (options.flAddUnderscores) ? \"_\" + parts [0] : parts [0]; //1/12/22 by DW\n\t\t\t\t\tlastnode [name] = parts [1];\n\t\t\t\t\t}\n\t\t\t\tflInsert = false;\n\t\t\t\t}\n\t\t\t}\n\t\tif (thislevel > lastlevel) {\n\t\t\tstack.push (currentsubs);\n\t\t\tlastnode.subs = new Array ();\n\t\t\tcurrentsubs = lastnode.subs;\n\t\t\t}\n\t\telse {\n\t\t\tif (thislevel < lastlevel) {\n\t\t\t\tvar ctpops = lastlevel - thislevel;\n\t\t\t\tfor (var i = 1; i <= ctpops; i++) {\n\t\t\t\t\tcurrentsubs = stack.pop ();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\tif (flInsert) {\n\t\t\tvar newnode = {\n\t\t\t\ttext: theLine\n\t\t\t\t}\n\t\t\tcurrentsubs.push (newnode);\n\t\t\tlastnode = newnode;\n\t\t\tlastlevel = thislevel;\n\t\t\t}\n\t\t});\n\treturn (theOutline);\n\t}\nfunction outlineToMarkdown (theOutline) { //1/3/22 by DW\n\t//Changes\n\t\t//1/3/22; 6:03:00 PM by DW\n\t\t\t//Generate markdown text from the indicated outline structure \n\t\t\t//that can be read by LogSeq and compatible apps. \n\tvar mdtext = \"\", indentlevel = 0;\n\tfunction add (s) {\n\t\tmdtext += utils.filledString (\"\\t\", indentlevel) + s + \"\\n\";\n\t\t}\n\tfunction addAtts (atts) {\n\t\tfor (var x in atts) {\n\t\t\tif ((x != \"subs\") && (x != \"text\")) {\n\t\t\t\tif (utils.beginsWith (x, \"_\")) {\n\t\t\t\t\tadd (utils.stringDelete (x, 1, 1) + \":: \" + atts [x]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tfunction dolevel (theNode) {\n\t\ttheNode.subs.forEach (function (sub) {\n\t\t\tadd (\"- \" + sub.text);\n\t\t\taddAtts (sub);\n\t\t\tif (sub.subs !== undefined) {\n\t\t\t\tindentlevel++;\n\t\t\t\tdolevel (sub);\n\t\t\t\tindentlevel--;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t//addAtts (theOutline.opml.head);\n\tdolevel (theOutline.opml.body)\n\treturn (mdtext);\n\t}\n\nfunction httpRequest (url, callback) {\n\trequest (url, function (err, response, data) {\n\t\tif (err) {\n\t\t\tcallback (err);\n\t\t\t}\n\t\telse {\n\t\t\tvar code = response.statusCode;\n\t\t\tif ((code < 200) || (code > 299)) {\n\t\t\t\tconst message = \"The request returned a status code of \" + response.statusCode + \".\";\n\t\t\t\tcallback ({message});\n\t\t\t\t}\n\t\t\telse {\n\t\t\t\tcallback (undefined, data) \n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\nfunction expandInclude (theNode, callback) {//1/4/22 by DW\n\t//Changes\n\t\t//5/11/22; 8:52:08 AM by DW\n\t\t\t//If the node is an include, return the body of the OPML file it points to. \n\t\t\t//If it's not an include, return the node itself.\n\t\t\t//It's used in the app that converts docserver outlines to markdown for uploading to github.\n\t\t\t\t//https://github.com/scripting/docServer/blob/main/markdownapp/docservertomarkdown.js#L124\n\tif ((theNode.type == \"include\") && (theNode.url !== undefined)) {\n\t\thttpRequest (theNode.url, function (err, opmltext) {\n\t\t\tif (err) {\n\t\t\t\tcallback (err);\n\t\t\t\t}\n\t\t\telse {\n\t\t\t\tparse (opmltext, function (err, theOutline) {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tcallback (err);\n\t\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcallback (undefined, theOutline.opml.body);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\telse {\n\t\tcallback (undefined, theNode);\n\t\t}\n\t}\nfunction expandIncludes (theOutline, callback) { //5/11/22 by DW\n\tfunction expandBody (theBody, callback) {\n\t\tvar theNewBody = new Object (), lastNewNode = theNewBody, stack = new Array (), currentOutline;\n\t\tfunction getNameAtt (theNode) {\n\t\t\tvar nameatt = theNode.name;\n\t\t\tif (nameatt === undefined) {\n\t\t\t\tnameatt = utils.innerCaseName (theNode.text);\n\t\t\t\t}\n\t\t\treturn (nameatt);\n\t\t\t}\n\t\tfunction inlevelcallback () {\n\t\t\tstack [stack.length] = currentOutline;\n\t\t\tcurrentOutline = lastNewNode;\n\t\t\tif (currentOutline.subs === undefined) {\n\t\t\t\tcurrentOutline.subs = new Array ();\n\t\t\t\t}\n\t\t\t}\n\t\tfunction nodecallback (theNode, path) {\n\t\t\tvar newNode = new Object ();\n\t\t\tutils.copyScalars (theNode, newNode);\n\t\t\tcurrentOutline.subs [currentOutline.subs.length] = newNode;\n\t\t\tlastNewNode = newNode;\n\t\t\t}\n\t\tfunction outlevelcallback () {\n\t\t\tcurrentOutline = stack [stack.length - 1];\n\t\t\tstack.length--; //pop the stack\n\t\t\t}\n\t\tfunction bodyVisiter (theOutline, visitcompletecallback) {\n\t\t\tfunction readInclude (theIncludeNode, callback) {\n\t\t\t\tconsole.log (\"readInclude: url == \" + theIncludeNode.url);\n\t\t\t\texpandInclude (theIncludeNode, function (err, theBody) {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tcallback (undefined);\n\t\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\texpandBody (theBody, function (expandedBody) {\n\t\t\t\t\t\t\tcallback (expandedBody); \n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\tfunction doLevel (head, path, levelcompletecallback) {\n\t\t\t\tfunction doOneSub (head, ixsub) {\n\t\t\t\t\tif ((head.subs !== undefined) && (ixsub < head.subs.length)) {\n\t\t\t\t\t\tvar sub = head.subs [ixsub], subpath = path + getNameAtt (sub);\n\t\t\t\t\t\tif (!utils.getBoolean (sub.iscomment)) { \n\t\t\t\t\t\t\tif (sub.type == \"include\") {\n\t\t\t\t\t\t\t\tnodecallback (sub, subpath);\n\t\t\t\t\t\t\t\treadInclude (sub, function (theIncludedOutline) {\n\t\t\t\t\t\t\t\t\tif (theIncludedOutline !== undefined) {\n\t\t\t\t\t\t\t\t\t\tdoLevel (theIncludedOutline, subpath + \"/\", function () { \n\t\t\t\t\t\t\t\t\t\t\toutlevelcallback ();\n\t\t\t\t\t\t\t\t\t\t\tdoOneSub (head, ixsub +1);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse { //6/25/15 by DW -- don't let errors derail us\n\t\t\t\t\t\t\t\t\t\tdoOneSub (head, ixsub +1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tnodecallback (sub, subpath);\n\t\t\t\t\t\t\t\tif (sub.subs !== undefined) {\n\t\t\t\t\t\t\t\t\tdoLevel (sub, subpath + \"/\", function () { \n\t\t\t\t\t\t\t\t\t\toutlevelcallback ();\n\t\t\t\t\t\t\t\t\t\tdoOneSub (head, ixsub +1);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tdoOneSub (head, ixsub +1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdoOneSub (head, ixsub +1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlevelcompletecallback ();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tinlevelcallback ();\n\t\t\t\tif (head.type == \"include\") {\n\t\t\t\t\treadInclude (head, function (theIncludedOutline) {\n\t\t\t\t\t\tif (theIncludedOutline !== undefined) {\n\t\t\t\t\t\t\tdoOneSub (theIncludedOutline, 0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdoOneSub (head, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\tdoLevel (theBody, \"\", function () {\n\t\t\t\toutlevelcallback ();\n\t\t\t\tvisitcompletecallback ();\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\tbodyVisiter (theOutline, function () {\n\t\t\tcallback (theNewBody);\n\t\t\t});\n\t\t}\n\texpandBody (theOutline.opml.body, function (theNewBody) {\n\t\tvar theNewOutline = {\n\t\t\topml: {\n\t\t\t\thead: {\n\t\t\t\t\t},\n\t\t\t\tbody: theNewBody\n\t\t\t\t}\n\t\t\t}\n\t\tutils.copyScalars (theOutline.opml.head, theNewOutline.opml.head);\n\t\tcallback (theNewOutline);\n\t\t});\n\t}\n"],"mappings":"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"}