{
  "version": 3,
  "names": [
    "BaseController",
    "Octokit",
    "initializeApp",
    "getAuth",
    "GithubAuthProvider",
    "signInWithPopup",
    "getFunctions",
    "httpsCallable",
    "Main",
    "loadSAPData",
    "data",
    "getModel",
    "setProperty",
    "functions",
    "app",
    "console",
    "log",
    "addMessage",
    "sapUsername",
    "getProperty",
    "MessageBox",
    "error",
    "response",
    "userName",
    "JSON",
    "parse",
    "list_items",
    "onInit",
    "firebaseConfig",
    "apiKey",
    "authDomain",
    "projectId",
    "storageBucket",
    "messagingSenderId",
    "appId",
    "auth",
    "provider",
    "setCustomParameters",
    "allow_signup",
    "token",
    "getView",
    "setModel",
    "JSONModel",
    "busyOPMLButton",
    "typeGitHubButton",
    "typeSAPButton",
    "OPMLButtonEnabled",
    "signInToGitHub",
    "githubSignInPopup",
    "loadGitHubData",
    "githubUsername",
    "page",
    "followers",
    "following",
    "octokit",
    "throttle",
    "onRateLimit",
    "retryAfter",
    "options",
    "warn",
    "method",
    "url",
    "request",
    "retryCount",
    "onAbuseLimit",
    "resultFollowing",
    "status",
    "message",
    "length",
    "opml",
    "GitHubFollowing",
    "SAPFollowing",
    "SAPBlogs",
    "byId",
    "getTokens",
    "outlinesGitHub",
    "outlinesSAP",
    "outlinesSAPBlogs",
    "header",
    "title",
    "dateCreated",
    "Date",
    "ownerName",
    "i",
    "push",
    "text",
    "login",
    "type",
    "xmlUrl",
    "html_url",
    "htmlUrl",
    "fullName",
    "profileUrl",
    "getText",
    "getKey",
    "headerXML",
    "outlinesXMLGitHub",
    "outlinesXMLSAP",
    "outlinesXMLSAPBlogs",
    "outlinesXML",
    "xml",
    "downloadFile",
    "then",
    "result",
    "_tokenResponse",
    "oauthAccessToken",
    "catch",
    "errorCode",
    "code",
    "errorMessage",
    "email",
    "credential",
    "filename",
    "element",
    "document",
    "createElement",
    "setAttribute",
    "encodeURIComponent",
    "style",
    "display",
    "body",
    "appendChild",
    "click",
    "removeChild",
    "handleValueHelp",
    "oEvent",
    "sInputValue",
    "getSource",
    "getValue",
    "oView",
    "_pValueHelpDialog",
    "Fragment",
    "load",
    "id",
    "getId",
    "name",
    "controller",
    "oValueHelpDialog",
    "addDependent",
    "getBinding",
    "filter",
    "Filter",
    "FilterOperator",
    "Contains",
    "open",
    "_handleValueHelpSearch",
    "evt",
    "sValue",
    "getParameter",
    "oFilter",
    "oddIdFilter",
    "path",
    "test",
    "value",
    "toLowerCase",
    "indexOf",
    "onTokenUpdate",
    "_handleValueHelpClose",
    "aSelectedItems",
    "oMultiInput",
    "forEach",
    "oItem",
    "addToken",
    "Token",
    "getTitle",
    "key",
    "getBindingContext",
    "getObject",
    "tag"
  ],
  "sources": [
    "Main.controller.ts"
  ],
  "sourcesContent": [
    "/* eslint-disable no-mixed-spaces-and-tabs */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\nimport BaseController from \"./BaseController\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport { Octokit } from \"@octokit/core\";\nimport {\n  initializeApp,\n  getAuth,\n  GithubAuthProvider,\n  signInWithPopup,\n  getFunctions,\n  connectFunctionsEmulator,\n  httpsCallable,\n} from \"githubfollower/lib/firebase\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport Token from \"sap/m/Token\";\nimport Filter from \"sap/ui/model/Filter\";\n\n/**\n * @namespace de.marianzeis.githubfollower.controller\n */\nexport default class Main extends BaseController {\n  public async loadSAPData(): void {\n    let data = [];\n    this.getModel(\"data\").setProperty(\"/busySAPButton\", true);\n    this.getModel(\"data\").setProperty(\"/busyOPMLButton\", true);\n    try {\n      const functions = getFunctions(this.app);\n      // connectFunctionsEmulator(functions, \"localhost\", 5001);\n      console.log(functions);\n      const addMessage = httpsCallable(functions, \"helloWorld\");\n      const sapUsername = this.getModel(\"data\").getProperty(\n        \"/SAPCommunityUsername\"\n      );\n\t  if(!sapUsername || sapUsername === \"\"){\n\t\tthis.getModel(\"data\").setProperty(\"/busySAPButton\", false);\n\t\tthis.getModel(\"data\").setProperty(\"/busyOPMLButton\", false);\n\t\tMessageBox.error(\"SAP Username is empty\")\n\t\treturn;\n\t}\n      const response = await addMessage({ userName: sapUsername });\n      data = JSON.parse(response.data);\n      console.log(data);\n    } catch (error) {\n\t\tthis.getModel(\"data\").setProperty(\"/busySAPButton\", false);\n\t\tthis.getModel(\"data\").setProperty(\"/busyOPMLButton\", false);\n      MessageBox.error(\"Error while loading SAP Data (maybe User not found)\");\n\t  return;\n    }\n    this.getModel(\"data\").setProperty(\"/SAPFollowing\", data.list_items);\n\tthis.getModel(\"data\").setProperty(\"/typeSAPButton\", \"Success\");\n    this.getModel(\"data\").setProperty(\"/busySAPButton\", false);\n\tthis.getModel(\"data\").setProperty(\"/busyOPMLButton\", false);\n\tthis.getModel(\"data\").setProperty(\"/OPMLButtonEnabled\", true);\n  }\n\n  public onInit(): void {\n    const firebaseConfig = {\n      apiKey: \"AIzaSyCy1d13pYC79sOgUZnn4-sJ5VM9QY6TjqM\",\n      authDomain: \"github-followers-281ea.firebaseapp.com\",\n      projectId: \"github-followers-281ea\",\n      storageBucket: \"github-followers-281ea.appspot.com\",\n      messagingSenderId: \"576057379323\",\n      appId: \"1:576057379323:web:4fb59feea548cdefa1235e\",\n    };\n\n    // Initialize Firebase\n    this.app = initializeApp(firebaseConfig);\n\n    // // // Initialize Firebase Authentication and get a reference to the service\n    this.auth = getAuth(this.app);\n    this.provider = new GithubAuthProvider();\n    this.provider.setCustomParameters({\n      allow_signup: \"false\",\n    });\n    this.token = \"\";\n\n    // create Jsonmodel\n    this.getView().setModel(\n      new JSONModel({\n        token: \"\",\n        busyOPMLButton: false,\n\t\ttypeGitHubButton : \"Default\",\n\t\ttypeSAPButton : \"Default\",\n\t\tOPMLButtonEnabled: false\n      }),\n      \"data\"\n    );\n  }\n\n  public signInToGitHub(): void {\n    this.githubSignInPopup(this.provider);\n  }\n\n  public async loadGitHubData(): Promise<void> {\n    this.getModel(\"data\").setProperty(\"/busyGitHubButton\", true);\n\tthis.getModel(\"data\").setProperty(\"/busyOPMLButton\", true);\n\t\n    const githubUsername = this.getModel(\"data\").getProperty(\"/gitHubUsername\");\n\tif(!githubUsername || githubUsername === \"\"){\n\t\tthis.getModel(\"data\").setProperty(\"/busyGitHubButton\", false);\n\t\tthis.getModel(\"data\").setProperty(\"/busyOPMLButton\", false);\n\t\tMessageBox.error(\"GitHub Username is empty\")\n\t\treturn;\n\t}\n    let page = 1;\n    let followers = [];\n    let following = [];\n    const octokit = new Octokit({\n      throttle: {\n        onRateLimit: (retryAfter: any, options: any) => {\n          this.octokit.log.warn(\n            `Request quota exhausted for request ${options.method} ${options.url}`\n          );\n\n          // Retry four times after hitting a rate limit error, then give up\n          if (options.request.retryCount <= 4) {\n            console.log(`Retrying after ${retryAfter} seconds!`);\n            return true;\n          }\n        },\n        onAbuseLimit: (retryAfter: any, options: any) => {\n          // does not retry, only logs a warning\n          this.octokit.log.warn(\n            `Abuse detected for request ${options.method} ${options.url}`\n          );\n        },\n      },\n    });\n    let resultFollowing: any;\n    try {\n      resultFollowing = await octokit.request(\n        `GET /users/${githubUsername}/following`\n      );\n    } catch (error: any) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      if (error.status === 404) {\n\t\tthis.getModel(\"data\").setProperty(\"/busyGitHubButton\", false);\n\t\tthis.getModel(\"data\").setProperty(\"/busyOPMLButton\", false);\n        MessageBox.error(`User ${githubUsername} not found`);\n      } else {\n\t\tthis.getModel(\"data\").setProperty(\"/busyGitHubButton\", false);\n\t\tthis.getModel(\"data\").setProperty(\"/busyOPMLButton\", false);\n        MessageBox.error(error.message);\n      }\n    }\n    following = resultFollowing.data;\n    while (resultFollowing.data.length >= 30) {\n      page += 1;\n      resultFollowing = await octokit.request(\n        `GET /users/${githubUsername}/following`,\n        { page: page }\n      );\n      following = [...following, ...resultFollowing.data];\n    }\n    this.getModel(\"data\").setProperty(\"/GitHubFollowing\", following);\n\tthis.getModel(\"data\").setProperty(\"/typeGitHubButton\", \"Success\");\n    this.getModel(\"data\").setProperty(\"/busyGitHubButton\", false);\n\tthis.getModel(\"data\").setProperty(\"/busyOPMLButton\", false);\n\tthis.getModel(\"data\").setProperty(\"/OPMLButtonEnabled\", true);\n    // MessageBox.success(\"Your OPML file is ready!\");\n  }\n\n  public opml(): void {\n    const GitHubFollowing =\n      this.getModel(\"data\").getProperty(\"/GitHubFollowing\") || [];\n    const SAPFollowing =\n      this.getModel(\"data\").getProperty(\"/SAPFollowing\") || [];\n    const SAPBlogs = this.byId(\"multiInput\").getTokens();\n    let outlinesGitHub = [];\n    let outlinesSAP = [];\n    let outlinesSAPBlogs = [];\n    var header = {\n      title: \"title-text\",\n      dateCreated: new Date(2014, 2, 9),\n      ownerName: \"azu\",\n    };\n    for (var i = 0; i < GitHubFollowing.length; i++) {\n      outlinesGitHub.push({\n        text: GitHubFollowing[i].login,\n        title: GitHubFollowing[i].login,\n        type: \"rss\",\n        xmlUrl: GitHubFollowing[i].html_url + \".atom\",\n        htmlUrl: GitHubFollowing[i].html_url,\n      });\n    }\n    for (var i = 0; i < SAPFollowing.length; i++) {\n      outlinesSAP.push({\n        text: SAPFollowing[i].fullName,\n        title: SAPFollowing[i].fullName,\n        type: \"rss\",\n        xmlUrl: `https://content.services.sap.com/feed?author=${SAPFollowing[i].userName}`,\n        htmlUrl: SAPFollowing[i].profileUrl,\n      });\n    }\n    for (var i = 0; i < SAPBlogs.length; i++) {\n      outlinesSAPBlogs.push({\n        text: SAPBlogs[i].getText(),\n        title: SAPBlogs[i].getText(),\n        type: \"rss\",\n        xmlUrl: `https://content.services.sap.com/feed?type=blogpost&amp;tags=&amp;${SAPBlogs[i].getKey()}`,\n        htmlUrl: `https://blogs.sap.com/tags/${SAPBlogs[i].getKey()}`,\n      });\n    }\n    let headerXML =\n      \"<head><title>Sample OPML file for RSSReader</title></head>\";\n    let outlinesXMLGitHub = [];\n    let outlinesXMLSAP = [];\n    let outlinesXMLSAPBlogs = [];\n    for (let i = 0; i < outlinesGitHub.length; i++) {\n      let outlinesXML =\n        '<outline text=\"' +\n        outlinesGitHub[i].text +\n        '\" title=\"' +\n        outlinesGitHub[i].title +\n        '\" type=\"' +\n        outlinesGitHub[i].type +\n        '\" xmlUrl=\"' +\n        outlinesGitHub[i].xmlUrl +\n        '\" htmlUrl=\"' +\n        outlinesGitHub[i].htmlUrl +\n        '\" />';\n      outlinesXMLGitHub.push(outlinesXML);\n    }\n    for (let i = 0; i < outlinesSAP.length; i++) {\n      let outlinesXML =\n        '<outline text=\"' +\n        outlinesSAP[i].text +\n        '\" title=\"' +\n        outlinesSAP[i].title +\n        '\" type=\"' +\n        outlinesSAP[i].type +\n        '\" xmlUrl=\"' +\n        outlinesSAP[i].xmlUrl +\n        '\" htmlUrl=\"' +\n        outlinesSAP[i].htmlUrl +\n        '\" />';\n      outlinesXMLSAP.push(outlinesXML);\n    }\n    for (let i = 0; i < outlinesSAPBlogs.length; i++) {\n      let outlinesXML =\n        '<outline text=\"' +\n        outlinesSAPBlogs[i].text +\n        '\" title=\"' +\n        outlinesSAPBlogs[i].title +\n        '\" type=\"' +\n        outlinesSAPBlogs[i].type +\n        '\" xmlUrl=\"' +\n        outlinesSAPBlogs[i].xmlUrl +\n        '\" htmlUrl=\"' +\n        outlinesSAPBlogs[i].htmlUrl +\n        '\" />';\n      outlinesXMLSAPBlogs.push(outlinesXML);\n    }\n    let outlinesXML = \"\";\n    if (outlinesXMLSAP.length > 0) {\n      outlinesXML =\n        '<outline text=\"SAP Community Following\" title=\"SAP Community Following\">' +\n        outlinesXMLSAP +\n        \" </outline>\";\n    }\n    if (outlinesXMLGitHub.length > 0) {\n      outlinesXML =\n        outlinesXML +\n        '<outline text=\"GitHub Following\" title=\"GitHub Following\">' +\n        outlinesXMLGitHub +\n        \" </outline>\";\n    }\n    if (outlinesXMLSAPBlogs.length > 0) {\n      outlinesXML =\n        outlinesXML +\n        '<outline text=\"SAP Blogs\" title=\"SAP Blogs\">' +\n        outlinesXMLSAPBlogs +\n        \" </outline>\";\n    }\n    let xml =\n      '<?xml version=\"1.0\" encoding=\"UTF-8\"?><opml version=\"2.0\">' +\n      headerXML +\n      \"<body>\" +\n      outlinesXML +\n      \"</body>\" +\n      \"</opml>\";\n    this.downloadFile(\"opml.xml\", xml);\n  }\n  public githubSignInPopup(provider): void {\n    // [START auth_github_signin_popup]\n    const auth = getAuth();\n    signInWithPopup(auth, provider)\n      .then((result) => {\n        /** @type {firebase.auth.OAuthCredential} */\n\n        // This gives you a GitHub Access Token. You can use it to access the GitHub API.\n        this.token = result._tokenResponse.oauthAccessToken;\n        this.getModel(\"data\").setProperty(\"/token\", this.token);\n        // ...\n      })\n      .catch((error) => {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // The email of the user's account used.\n        var email = error.email;\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential;\n        // ...\n      });\n    // [END auth_github_signin_popup]\n  }\n\n  public downloadFile(filename, text): void {\n    var element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text)\n    );\n    element.setAttribute(\"download\", filename);\n\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n  }\n\n  public handleValueHelp(oEvent): any {\n    var sInputValue = oEvent.getSource().getValue(),\n      oView = this.getView();\n\n    // create value help dialog\n    if (!this._pValueHelpDialog) {\n      this._pValueHelpDialog = Fragment.load({\n        id: oView.getId(),\n        name: \"de.marianzeis.githubfollower.view.Dialog\",\n        controller: this\n      }).then(function (oValueHelpDialog) {\n        oView.addDependent(oValueHelpDialog);\n        return oValueHelpDialog;\n      });\n    }\n\n    this._pValueHelpDialog.then(function (oValueHelpDialog) {\n      // create a filter for the binding\n      oValueHelpDialog.getBinding(\"items\").filter([new Filter(\n        \"title\",\n        FilterOperator.Contains,\n        sInputValue\n      )]);\n      // open value help dialog filtered by the input value\n      oValueHelpDialog.open(sInputValue);\n    });\n  }\n\n  public _handleValueHelpSearch(evt):any {\n    var sValue = evt.getParameter(\"value\");\n    var oFilter = new Filter(\n      \"title\",\n      FilterOperator.Contains,\n      sValue\n    );\n    var oddIdFilter = new Filter({\n      path: 'title',\n      test: function(value) {\n          return value.toLowerCase().indexOf(sValue.toLowerCase()) !== -1\n      }\n  });\n    evt.getSource().getBinding(\"items\").filter(oddIdFilter);\n  }\n\n  public onTokenUpdate(evt):any {\n    this.getModel(\"data\").setProperty(\"/OPMLButtonEnabled\", true);\n  }\n\n  public _handleValueHelpClose(evt):any {\n    this.getModel(\"data\").setProperty(\"/OPMLButtonEnabled\", true);\n    var aSelectedItems = evt.getParameter(\"selectedItems\"),\n      oMultiInput = this.byId(\"multiInput\");\n\n    if (aSelectedItems && aSelectedItems.length > 0) {\n      aSelectedItems.forEach(function (oItem) {\n        oMultiInput.addToken(new Token({\n          text: oItem.getTitle(),\n          key: oItem.getBindingContext(\"tags\").getObject().tag\n        }));\n      });\n    }\n  }\n\n}\n"
  ],
  "mappings": "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"
}