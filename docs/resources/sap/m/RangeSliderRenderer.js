/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","./SliderRenderer","sap/ui/core/InvisibleText"],function(e,t,i){"use strict";var a=e.extend(t);a.apiVersion=2;a.renderHandles=function(e,t,i){this.renderHandle(e,t,{id:t.getId()+"-handle1",position:"start",forwardedLabels:i,pressed:t.getProperty("startHandlePressed")});this.renderHandle(e,t,{id:t.getId()+"-handle2",position:"end",forwardedLabels:i,pressed:t.getProperty("endHandlePressed")});e.renderControl(t._mHandleTooltip.start.label);e.renderControl(t._mHandleTooltip.end.label);e.renderControl(t.getAggregation("_handlesLabels")[2])};a.renderHandle=function(e,a,n){var r,d=a.getRange(),s=a.getEnabled(),l=sap.ui.getCore().getConfiguration().getRTL();e.openStart("span",n&&n.id);if(n&&n.position!==undefined){r=d[n.position==="start"?0:1];e.attr("data-range-val",n.position);e.attr("aria-labelledby",(n.forwardedLabels+" "+a._mHandleTooltip[n.position].label.getId()).trim());if(a.getInputsAsTooltips()){e.attr("aria-describedby",i.getStaticId("sap.m","SLIDER_INPUT_TOOLTIP"));s&&e.attr("aria-keyshortcuts","F2")}}if(a.getShowHandleTooltip()&&!a.getShowAdvancedTooltip()){this.writeHandleTooltip(e,a)}e.class(t.CSS_CLASS+"Handle");e.attr("data-ui5-handle-position",n.position);if(n.pressed){e.class(t.CSS_CLASS+"HandlePressed")}if(n&&n.id!==undefined&&n.id===a.getId()+"-handle1"){e.style(l?"right":"left",d[0])}if(n&&n.id!==undefined&&n.id===a.getId()+"-handle2"){e.style(l?"right":"left",d[1])}this.writeAccessibilityState(e,a,r);if(s){e.attr("tabindex","0")}e.openEnd().close("span")};a.writeAccessibilityState=function(e,t,i){var a=t._isElementsFormatterNotNumerical(i),n=t._formatValueByCustomElement(i),r;if(t._getUsedScale()&&!a){r=n}else{r=t.toFixed(i)}e.accessibilityState(t,{role:"slider",orientation:"horizontal",valuemin:t.toFixed(t.getMin()),valuemax:t.toFixed(t.getMax()),valuenow:r});if(a){e.accessibilityState(t,{valuetext:n})}};a.renderStartLabel=function(e,i){e.openStart("div").class(t.CSS_CLASS+"RangeLabel").openEnd().text(i.getMin()).close("div")};a.renderEndLabel=function(e,i){e.openStart("div").class(t.CSS_CLASS+"RangeLabel").style("width",i._getMaxTooltipWidth()+"px").openEnd().text(i.getMax()).close("div")};a.renderLabels=function(e,i){if(!i.getEnableTickmarks()){e.openStart("div").class(t.CSS_CLASS+"Labels").openEnd();this.renderStartLabel(e,i);this.renderEndLabel(e,i);e.close("div")}};a.renderProgressIndicator=function(e,t,i){var a=t.getRange();var n=t.getProperty("progressBarSize");a[0]=t.toFixed(a[0],t._iDecimalPrecision);a[1]=t.toFixed(a[1],t._iDecimalPrecision);var r=Math.abs(a[1]-a[0]);e.openStart("div",t.getId()+"-progress");if(t.getEnabled()){e.attr("tabindex","0")}this.addProgressIndicatorClass(e,t);e.style("width",t._sProgressValue);if(n){e.style("left",n.left);e.style("right",n.right)}e.accessibilityState(t,{role:"slider",orientation:"horizontal",valuemin:t.toFixed(t.getMin()),valuemax:t.toFixed(t.getMax()),valuenow:r,valuetext:t._oResourceBundle.getText("RANGE_SLIDER_RANGE_ANNOUNCEMENT",a.map(t._formatValueByCustomElement,t)),labelledby:(i+" "+t.getAggregation("_handlesLabels")[2].getId()).trim()}).openEnd().close("div")};a.addClass=function(e,i){t.addClass(e,i);e.class("sapMRangeSlider")};a.applyTickmarkStyles=function(e,t,i,a){var n=t.getRange();n[0]=parseInt(t.toFixed(n[0],t._iDecimalPrecision));n[1]=parseInt(t.toFixed(n[1],t._iDecimalPrecision));var r=i>=n[0]&&i<=n[1]||i<=n[0]&&i>=n[1];e.attr("data-ui5-active-tickmark",r)};a.shouldRenderFirstActiveTickmark=function(e){return e.getValue()===e.getMin()};a.shouldRenderLastActiveTickmark=function(e){return e.getValue2()===e.getMax()};return a},true);