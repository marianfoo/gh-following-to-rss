/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/base/Log","sap/base/assert","sap/base/util/extend"],function(e,r,t,i,n,a){"use strict";var o=e.extend("sap.ui.core.format.NumberFormat",{constructor:function(e){throw new Error}});var s=/0+(\.0+)?/;var u=/^0+$/;var c={INTEGER:"integer",FLOAT:"float",CURRENCY:"currency",UNIT:"unit",PERCENT:"percent"};var l={FLOOR:"FLOOR",CEILING:"CEILING",TOWARDS_ZERO:"TOWARDS_ZERO",AWAY_FROM_ZERO:"AWAY_FROM_ZERO",HALF_FLOOR:"HALF_FLOOR",HALF_CEILING:"HALF_CEILING",HALF_TOWARDS_ZERO:"HALF_TOWARDS_ZERO",HALF_AWAY_FROM_ZERO:"HALF_AWAY_FROM_ZERO"};var f={};f[l.FLOOR]=Math.floor;f[l.CEILING]=Math.ceil;f[l.TOWARDS_ZERO]=function(e){return e>0?Math.floor(e):Math.ceil(e)};f[l.AWAY_FROM_ZERO]=function(e){return e>0?Math.ceil(e):Math.floor(e)};f[l.HALF_TOWARDS_ZERO]=function(e){return e>0?Math.ceil(e-.5):Math.floor(e+.5)};f[l.HALF_AWAY_FROM_ZERO]=function(e){return e>0?Math.floor(e+.5):Math.ceil(e-.5)};f[l.HALF_FLOOR]=function(e){return Math.ceil(e-.5)};f[l.HALF_CEILING]=Math.round;o.RoundingMode=l;o.oDefaultIntegerFormat={minIntegerDigits:1,maxIntegerDigits:99,minFractionDigits:0,maxFractionDigits:0,groupingEnabled:false,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",isInteger:true,type:c.INTEGER,showMeasure:false,style:"standard",showNumber:true,parseAsString:false,preserveDecimals:false,roundingMode:o.RoundingMode.TOWARDS_ZERO,emptyString:NaN,showScale:true};o.oDefaultFloatFormat={minIntegerDigits:1,maxIntegerDigits:99,minFractionDigits:0,maxFractionDigits:99,groupingEnabled:true,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",isInteger:false,type:c.FLOAT,showMeasure:false,style:"standard",showNumber:true,parseAsString:false,preserveDecimals:false,roundingMode:o.RoundingMode.HALF_AWAY_FROM_ZERO,emptyString:NaN,showScale:true};o.oDefaultPercentFormat={minIntegerDigits:1,maxIntegerDigits:99,minFractionDigits:0,maxFractionDigits:99,groupingEnabled:true,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",percentSign:"%",isInteger:false,type:c.PERCENT,showMeasure:false,style:"standard",showNumber:true,parseAsString:false,preserveDecimals:false,roundingMode:o.RoundingMode.HALF_AWAY_FROM_ZERO,emptyString:NaN,showScale:true};o.oDefaultCurrencyFormat={minIntegerDigits:1,maxIntegerDigits:99,groupingEnabled:true,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",isInteger:false,type:c.CURRENCY,showMeasure:true,currencyCode:true,currencyContext:"standard",style:"standard",showNumber:true,customCurrencies:undefined,parseAsString:false,preserveDecimals:false,roundingMode:o.RoundingMode.HALF_AWAY_FROM_ZERO,emptyString:NaN,showScale:true,ignorePrecision:true};o.oDefaultUnitFormat={minIntegerDigits:1,maxIntegerDigits:99,groupingEnabled:true,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",isInteger:false,type:c.UNIT,showMeasure:true,style:"standard",showNumber:true,customUnits:undefined,allowedUnits:undefined,parseAsString:false,preserveDecimals:false,roundingMode:o.RoundingMode.HALF_AWAY_FROM_ZERO,emptyString:NaN,showScale:true};o.getInstance=function(e,r){return this.getFloatInstance(e,r)};o.getFloatInstance=function(e,r){var t=this.createInstance(e,r),i=this.getLocaleFormatOptions(t.oLocaleData,c.FLOAT);t.oFormatOptions=a({},this.oDefaultFloatFormat,i,t.oOriginalFormatOptions);return t};o.getIntegerInstance=function(e,r){var t=this.createInstance(e,r),i=this.getLocaleFormatOptions(t.oLocaleData,c.INTEGER);t.oFormatOptions=a({},this.oDefaultIntegerFormat,i,t.oOriginalFormatOptions);return t};o.getCurrencyInstance=function(e,r){var t=this.createInstance(e,r);var i=t.oOriginalFormatOptions&&t.oOriginalFormatOptions.currencyContext;var n=h(t.oOriginalFormatOptions);if(n){i=i||this.oDefaultCurrencyFormat.style;i="sap-"+i}var o=this.getLocaleFormatOptions(t.oLocaleData,c.CURRENCY,i);t.oFormatOptions=a({},this.oDefaultCurrencyFormat,o,t.oOriginalFormatOptions);t.oFormatOptions.trailingCurrencyCode=n;t._defineCustomCurrencySymbols();return t};o.getUnitInstance=function(e,r){var t=this.createInstance(e,r),i=this.getLocaleFormatOptions(t.oLocaleData,c.UNIT);t.oFormatOptions=a({},this.oDefaultUnitFormat,i,t.oOriginalFormatOptions);return t};o.getPercentInstance=function(e,r){var t=this.createInstance(e,r),i=this.getLocaleFormatOptions(t.oLocaleData,c.PERCENT);t.oFormatOptions=a({},this.oDefaultPercentFormat,i,t.oOriginalFormatOptions);return t};o.createInstance=function(e,i){var a=Object.create(this.prototype),o;if(e instanceof r){i=e;e=undefined}if(!i){i=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()}a.oLocale=i;a.oLocaleData=t.getInstance(i);a.oOriginalFormatOptions=e;if(e){if(e.pattern){o=this.parseNumberPattern(e.pattern);Object.keys(o).forEach(function(r){e[r]=o[r]})}if(e.emptyString!==undefined){n(e.emptyString===""||e.emptyString===0||e.emptyString===null||e.emptyString!==e.emptyString,"The format option 'emptyString' must be either 0, null or NaN")}}return a};o.getDefaultUnitPattern=function(e){return"{0} "+e};o.getLocaleFormatOptions=function(e,r,t){var i,n;switch(r){case c.PERCENT:n=e.getPercentPattern();break;case c.CURRENCY:n=e.getCurrencyPattern(t);break;case c.UNIT:n=e.getDecimalPattern();break;default:n=e.getDecimalPattern()}i=this.parseNumberPattern(n);i.plusSign=e.getNumberSymbol("plusSign");i.minusSign=e.getNumberSymbol("minusSign");i.decimalSeparator=e.getNumberSymbol("decimal");i.groupingSeparator=e.getNumberSymbol("group");i.percentSign=e.getNumberSymbol("percentSign");i.pattern=n;switch(r){case c.UNIT:case c.FLOAT:case c.PERCENT:i.minFractionDigits=0;i.maxFractionDigits=99;break;case c.INTEGER:i.minFractionDigits=0;i.maxFractionDigits=0;i.groupingEnabled=false;break;case c.CURRENCY:i.minFractionDigits=undefined;i.maxFractionDigits=undefined;break}return i};o.parseNumberPattern=function(e){var r=0,t=0,i=0,n=false,a=0,o=0,s=e.indexOf(";"),u={Integer:0,Fraction:1},c=u.Integer;if(s!==-1){e=e.substring(0,s)}for(var l=0;l<e.length;l++){var f=e[l];switch(f){case",":if(n){a=o;o=0}n=true;break;case".":c=u.Fraction;break;case"0":if(c===u.Integer){r++;if(n){o++}}else{t++;i++}break;case"#":if(c===u.Integer){if(n){o++}}else{i++}break}}if(!a){a=o;o=0}return{minIntegerDigits:r,minFractionDigits:t,maxFractionDigits:i,groupingEnabled:n,groupingSize:a,groupingBaseSize:o}};o.prototype._defineCustomCurrencySymbols=function(){var e=this.oFormatOptions;var r=this.oLocaleData.getCurrencySymbols();var t=function(e,r){var t=[];var n;for(var a in e){n=e[a];if(t.indexOf(n)===-1){t.push(n)}else if(n!==undefined){r[n]=true;i.error("Symbol '"+n+"' is defined multiple times in custom currencies.",undefined,"NumberFormat")}}};if(e.customCurrencies&&typeof e.customCurrencies==="object"){this.mKnownCurrencySymbols={};this.mKnownCurrencyCodes={};Object.keys(e.customCurrencies).forEach(function(t){if(e.customCurrencies[t].symbol){this.mKnownCurrencySymbols[t]=e.customCurrencies[t].symbol}else{var i=e.customCurrencies[t].isoCode;if(i){this.mKnownCurrencySymbols[t]=r[i]}}this.mKnownCurrencyCodes[t]=t}.bind(this))}else{this.mKnownCurrencySymbols=r;this.mKnownCurrencyCodes=this.oLocaleData.getCustomCurrencyCodes()}this.mDuplicatedSymbols={};t(this.mKnownCurrencySymbols,this.mDuplicatedSymbols)};function g(e,r){if(e.indexOf(".")>=0&&!S(e)&&e.endsWith("0")){var t=e.length-e.lastIndexOf(".")-1;var i=t-r;if(i>0){while(e.endsWith("0")&&i-- >0){e=e.substring(0,e.length-1)}if(e.endsWith(".")){e=e.substring(0,e.length-1)}}}return e}function m(e,r,t){var i;var n="";if(t){var a=[3,2,2],o,s=0;i=e.length;while(i>0){o=a[s%3];i-=o;if(s>0){n=r.groupingSeparator+n}if(i<0){o+=i;i=0}n=e.substr(i,o)+n;s++}}else{var u=e.length;var c=r.groupingSize;var l=r.groupingBaseSize||c;i=Math.max(u-l,0)%c||c;n=e.substr(0,i);while(u-i>=l){n+=r.groupingSeparator;n+=e.substr(i,c);i+=c}n+=e.substr(i)}return n}o.prototype.format=function(e,r){if(Array.isArray(e)){r=e[1];e=e[0]}var t="",n="",a="",s="",u="",l="",f=e<0,p=-1,h=Object.assign({},this.oFormatOptions),y=this.oOriginalFormatOptions,S=h.type===c.CURRENCY&&r==="INR"&&this.oLocale.getLanguage()==="en"&&this.oLocale.getRegion()==="IN",b,v,O,N,L,R,E=e===undefined||e===null;if(h.groupingEnabled&&h.groupingSize<=0){i.error("Grouping requires the 'groupingSize' format option to be a positive number, but it is '"+h.groupingSize+"' instead.");return""}if(h.showNumber&&(e===h.emptyString||isNaN(e)&&isNaN(h.emptyString))){return""}if(r!==undefined&&r!==null&&typeof r!=="string"&&!(r instanceof String)){return""}if(!h.showNumber&&!r){return""}if(E&&(!r||!h.showMeasure||h.showNumber)){return""}if(r&&h.customCurrencies&&!h.customCurrencies[r]){i.error("Currency '"+r+"' is unknown.");return""}if(!h.showNumber&&!h.showMeasure){return""}if(r&&h.type===c.UNIT){if(h.customUnits&&typeof h.customUnits==="object"){L=h.customUnits[r]}else{R=this.oLocaleData.getUnitFromMapping(r)||r;L=this.oLocaleData.getUnitFormat(R)}if(h.showMeasure){var I=!h.allowedUnits||h.allowedUnits.indexOf(r)>=0;if(!I){return""}}if(!L&&!h.showNumber){return this._addOriginInfo(r)}h.decimals=L&&(typeof L.decimals==="number"&&L.decimals>=0)?L.decimals:h.decimals;h.precision=L&&(typeof L.precision==="number"&&L.precision>=0)?L.precision:h.precision}if(h.type==c.CURRENCY){if(r&&h.trailingCurrencyCode){if(!this.mKnownCurrencyCodes[r]&&!/(^[A-Z]{3}$)/.test(r)){h.trailingCurrencyCode=false;h.pattern=this.oLocaleData.getCurrencyPattern(h.currencyContext)}}if(!h.showNumber){if(!h.currencyCode){var A;if(h.customCurrencies&&typeof h.customCurrencies==="object"){A=this.mKnownCurrencySymbols[r]}else{A=this.oLocaleData.getCurrencySymbol(r)}if(A&&A!==r){r=A}}return r}if(h.customCurrencies&&h.customCurrencies[r]){h.decimals=h.customCurrencies[r].decimals!==undefined?h.customCurrencies[r].decimals:h.decimals}}if(h.decimals!==undefined){h.minFractionDigits=h.decimals;h.maxFractionDigits=h.decimals}if(h.shortLimit===undefined||Math.abs(e)>=h.shortLimit){O=h.shortRefNumber===undefined?e:h.shortRefNumber;v=d(O,h,this.oLocaleData,S);if(v&&v.formatString!="0"){e=e/v.magnitude;if(h.shortDecimals!==undefined){h.minFractionDigits=h.shortDecimals;h.maxFractionDigits=h.shortDecimals}else{if(y.minFractionDigits===undefined&&y.maxFractionDigits===undefined&&y.decimals===undefined&&y.precision===undefined&&y.pattern===undefined){h.precision=2;h.minFractionDigits=0;h.maxFractionDigits=99}if(y.maxFractionDigits===undefined&&y.decimals===undefined){h.maxFractionDigits=99}}h.roundingMode=o.RoundingMode.HALF_AWAY_FROM_ZERO}}if((v||!h.ignorePrecision)&&h.precision!==undefined){h.maxFractionDigits=Math.min(h.maxFractionDigits,D(e,h.precision));h.minFractionDigits=Math.min(h.minFractionDigits,h.maxFractionDigits)}if(h.type==c.PERCENT){e=o._shiftDecimalPoint(e,2)}if(h.type==c.CURRENCY){var w=this.oLocaleData.getCurrencyDigits(r);if(h.customCurrencies&&h.customCurrencies[r]&&h.customCurrencies[r].decimals!==undefined){w=h.customCurrencies[r].decimals}if(h.maxFractionDigits===undefined){h.maxFractionDigits=w}if(h.minFractionDigits===undefined){h.minFractionDigits=w}}if(typeof e==="number"&&!h.preserveDecimals){e=F(e,h.maxFractionDigits,h.roundingMode)}if(e==0){f=false}if(h.preserveDecimals&&(typeof e==="string"||e instanceof String)){e=g(e,h.maxFractionDigits)}if(!E){u=this.convertToDecimal(e)}if(u=="NaN"){return u}if(f){u=u.substr(1)}p=u.indexOf(".");if(p>-1){t=u.substr(0,p);n=u.substr(p+1)}else{t=u}if(t.length<h.minIntegerDigits){t=t.padStart(h.minIntegerDigits,"0")}else if(t.length>h.maxIntegerDigits){t="".padStart(h.maxIntegerDigits,"?")}if(n.length<h.minFractionDigits){n=n.padEnd(h.minFractionDigits,"0")}else if(n.length>h.maxFractionDigits&&!h.preserveDecimals){n=n.substr(0,h.maxFractionDigits)}if(h.type===c.UNIT&&!h.showNumber){if(L){N=this.oLocaleData.getPluralCategory(t+"."+n);l=L["unitPattern-count-"+N];if(!l){l=L["unitPattern-count-other"]}if(!l){return this._addOriginInfo(r)}if(N!=="other"&&l.indexOf("{0}")===-1){l=L["unitPattern-count-other"];if(!l){return this._addOriginInfo(r)}}if(l.indexOf("{0}")===-1){i.warning("Cannot separate the number from the unit because unitPattern-count-other '"+l+"' does not include the number placeholder '{0}' for unit '"+r+"'")}else{return this._addOriginInfo(l.replace("{0}","").trim())}}}if(h.groupingEnabled){a=m(t,h,S)}else{a=t}if(f){s=h.minusSign}s+=a;if(n){s+=h.decimalSeparator+n}if(v&&v.formatString&&h.showScale&&h.type!==c.CURRENCY){N=this.oLocaleData.getPluralCategory(t+"."+n);v.formatString=this.oLocaleData.getDecimalFormat(h.style,v.key,N);s=v.formatString.replace(v.valueSubString,s);s=s.replace(/'.'/g,".")}if(h.type===c.CURRENCY){l=h.pattern;if(v&&v.formatString&&h.showScale){var M;if(h.trailingCurrencyCode){M="sap-short"}else{M="short"}N=this.oLocaleData.getPluralCategory(t+"."+n);if(S){l=C(M,v.key,N)}else{l=this.oLocaleData.getCurrencyFormat(M,v.key,N)}l=l.replace(/'.'/g,".")}b=l.split(";");if(b.length===2){l=f?b[1]:b[0];if(f){s=s.substring(h.minusSign.length)}}if(!h.currencyCode){var A;if(h.customCurrencies&&typeof h.customCurrencies==="object"){A=this.mKnownCurrencySymbols[r]}else{A=this.oLocaleData.getCurrencySymbol(r)}if(A&&A!==r){r=A}}s=this._composeCurrencyResult(l,s,r,{showMeasure:h.showMeasure,negative:f,minusSign:h.minusSign})}if(h.type===c.PERCENT){l=h.pattern;s=l.replace(/[0#.,]+/,s);s=s.replace(/%/,h.percentSign)}if(h.showMeasure&&r&&h.type===c.UNIT){N=this.oLocaleData.getPluralCategory(t+"."+n);if(L){l=L["unitPattern-count-"+N];if(!l){l=L["unitPattern-count-other"]}if(!l){l=o.getDefaultUnitPattern(r)}}else{l=o.getDefaultUnitPattern(r)}s=l.replace("{0}",s)}return this._addOriginInfo(s)};o.prototype._addOriginInfo=function(e){if(sap.ui.getCore().getConfiguration().getOriginInfo()){e=new String(e);e.originInfo={source:"Common Locale Data Repository",locale:this.oLocale.toString()}}return e};o.prototype._composeCurrencyResult=function(e,r,t,i){var n=i.minusSign;e=e.replace(/[0#.,]+/,r);if(i.showMeasure&&t){var a="¤",o={"[:digit:]":/\d/,"[:^S:]":/[^\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]/},s=e.indexOf(a),u=s<e.length/2?"after":"before",c=this.oLocaleData.getCurrencySpacing(u),l=u==="after"?t.charAt(t.length-1):t.charAt(0),f,g=o[c.currencyMatch],m=o[c.surroundingMatch],d;e=e.replace(a,t);f=u==="after"?e.charAt(s+t.length):e.charAt(s-1);if(g&&g.test(l)&&m&&m.test(f)){if(u==="after"){d=s+t.length}else{d=s}e=e.slice(0,d)+c.insertBetween+e.slice(d)}else if(i.negative&&u==="after"){n="\ufeff"+i.minusSign}}else{e=e.replace(/\s*\u00a4\s*/,"")}if(i.negative){e=e.replace(/-/,n)}return e};o.prototype.parse=function(e){var r=this.oFormatOptions,t=r.plusSign+this.oLocaleData.getLenientNumberSymbols("plusSign"),a=r.minusSign+this.oLocaleData.getLenientNumberSymbols("minusSign"),s=v(t+a),u=v(r.groupingSeparator),l=v(r.decimalSeparator),f="^\\s*(["+s+"]?(?:[0-9"+u+"]+|[0-9"+u+"]*"+l+"[0-9]*)(?:[eE][+-][0-9]+)?)\\s*$",g="^\\s*(["+s+"]?[0-9"+u+"]+)\\s*$",m=new RegExp(u,"g"),d=new RegExp(l,"g"),h=this.oLocaleData.getNumberSymbol("percentSign"),C=r.type===c.CURRENCY&&this.oLocale.getLanguage()==="en"&&this.oLocale.getRegion()==="IN",F,D,N,R,E=0,I,A;if(e===""){if(!r.showNumber){return null}A=r.emptyString;if(r.parseAsString&&(r.emptyString===0||isNaN(r.emptyString))){A=r.emptyString+""}if(r.type===c.CURRENCY||r.type===c.UNIT){return[A,undefined]}else{return A}}if(typeof e!=="string"&&!(e instanceof String)){return null}if(r.groupingSeparator===r.decimalSeparator){i.error("The grouping and decimal separator both have the same value '"+r.groupingSeparator+"'. "+"They must be different from each other such that values can be parsed correctly.")}R=r.type===c.PERCENT?r.pattern:this.oLocaleData.getPercentPattern();if(R.charAt(0)==="%"){f=f.slice(0,1)+"%?"+f.slice(1)}else if(R.charAt(R.length-1)==="%"){f=f.slice(0,f.length-1)+"%?"+f.slice(f.length-1)}var w;if(r.type===c.UNIT&&r.showMeasure){var M;if(r.customUnits&&typeof r.customUnits==="object"){M=r.customUnits}else{M=this.oLocaleData.getUnitFormats()}n(M,"Unit patterns cannot be loaded");if(r.allowedUnits){var _={};for(var x=0;x<r.allowedUnits.length;x++){var U=r.allowedUnits[x];_[U]=M[U]}M=_}var P=O(M,e,r.showNumber);var T=false;w=P.cldrCode;if(w.length===1){N=w[0];if(!r.showNumber){return[undefined,N]}}else if(w.length===0){if(r.unitOptional){P.numberValue=e}else{return null}}else{n(w.length===1,"Ambiguous unit ["+w.join(", ")+"] for input: '"+e+"'");N=undefined;T=true}if(r.strictParsing){if(T){return null}}e=P.numberValue||e}var k;if(r.type===c.CURRENCY&&r.showMeasure){k=L({value:e,currencySymbols:this.mKnownCurrencySymbols,customCurrencyCodes:this.mKnownCurrencyCodes,duplicatedSymbols:this.mDuplicatedSymbols,customCurrenciesAvailable:!!r.customCurrencies});if(!k){return null}if(r.strictParsing){if(!k.currencyCode||k.duplicatedSymbolFound){return null}}e=k.numberValue;N=k.currencyCode;if(r.customCurrencies&&N===null){return null}if(!r.showNumber){if(e){return null}return[undefined,N]}}e=e.replace(/[\u202a\u200e\u202c\u202b\u200f]/g,"");e=e.replace(/\s/g,"");I=p(e,this.oLocaleData,C);if(I){e=I.number}var W=S(e);if(r.isInteger&&!I&&!W){F=new RegExp(g)}else{F=new RegExp(f)}if(!F.test(e)){return r.type===c.CURRENCY||r.type===c.UNIT?null:NaN}var Y=e.length;for(var Z=0;Z<Y;Z++){var H=e[Z];if(t.includes(H)){e=e.replace(H,"+");break}else if(a.includes(H)){e=e.replace(H,"-");break}}e=e.replace(/^\+/,"");if(!r.isInteger&&e.indexOf(h)!==-1){D=true;e=e.replace(h,"")}var z=e;e=e.replace(m,"");if(I){e=e.replace(d,".");e=o._shiftDecimalPoint(e,Math.round(Math.log(I.factor)/Math.LN10))}if(r.isInteger){var $;if(W){e=e.replace(d,".");$=b(e);if($===undefined){return NaN}}else{$=parseInt(e)}E=r.parseAsString?e:$}else{e=e.replace(d,".");E=r.parseAsString?e:parseFloat(e);if(D){E=o._shiftDecimalPoint(E,-2)}}var K=y(z,r,W,m);if(!K){return r.type===c.CURRENCY||r.type===c.UNIT?null:NaN}if(r.parseAsString&&!D){E=o._shiftDecimalPoint(e,0)}if(r.type===c.CURRENCY||r.type===c.UNIT){return[E,N]}return E};o.prototype.convertToDecimal=function(e){var r=""+e,t,i,n,a,o,s;if(r.indexOf("e")==-1&&r.indexOf("E")==-1){return r}var u=r.match(/^([+-]?)((\d+)(?:\.(\d+))?)[eE]([+-]?\d+)$/);t=u[1]=="-";i=u[2].replace(/\./g,"");n=u[3]?u[3].length:0;a=u[4]?u[4].length:0;o=parseInt(u[5]);if(o>0){if(o<a){s=n+o;r=i.substr(0,s)+"."+i.substr(s)}else{r=i;o-=a;for(var c=0;c<o;c++){r+="0"}}}else{if(-o<n){s=n+o;r=i.substr(0,s)+"."+i.substr(s)}else{r=i;o+=n;for(var c=0;c>o;c--){r="0"+r}r="0."+r}}if(t){r="-"+r}return r};o.prototype.getScale=function(){if(this.oFormatOptions.style!=="short"&&this.oFormatOptions.style!=="long"||this.oFormatOptions.shortRefNumber===undefined){return}var e=d(this.oFormatOptions.shortRefNumber,this.oFormatOptions,this.oLocaleData),r;if(e&&e.formatString){r=e.formatString.replace(s,"").replace(/'.'/g,".").trim();if(r){return r}}};o._shiftDecimalPoint=function(e,r){if(typeof r!=="number"){return NaN}var t="";var i=e.toString().toLowerCase().split("e");if(typeof e==="number"){r=i[1]?+i[1]+r:r;return+(i[0]+"e"+r)}else if(typeof e==="string"){if(parseFloat(e)===0&&r>=0){return u.test(e)?"0":e}var n=i[0].charAt(0);t=n==="-"?n:"";if(t){i[0]=i[0].slice(1)}e=i[0];var a=e.indexOf("."),o,s,c;if(a===-1){e=e+".";a=e.length-1}if(i[1]){a+=+i[1]}o=a+r;if(o<=0){e=e.padStart(e.length-o+1,"0");o=1}else if(o>=e.length-1){e=e.padEnd(o+1,"0");o=e.length-1}e=e.replace(".","");s=e.substring(0,o);c=e.substring(o);s=s.replace(/^(-?)0+(\d)/,"$1$2");return t+s+(c?"."+c:"")}else{return null}};function d(e,r,t,i){var n,a,o,u,l=r.style,f=r.precision!==undefined?r.precision:2;if(l!="short"&&l!="long"){return undefined}for(var g=0;g<15;g++){a=Math.pow(10,g);if(F(Math.abs(e)/a,f-1)<10){break}}o=a.toString();if(r.type===c.CURRENCY){if(r.trailingCurrencyCode){l="sap-short"}if(i){u=C(l,o,"other",true)}else{u=t.getCurrencyFormat(l,o,"other")}}else{u=t.getDecimalFormat(l,o,"other")}if(!u||u=="0"){return undefined}else{n={};n.key=o;n.formatString=u;var m=u.match(s);if(m){n.valueSubString=m[0];var d=n.valueSubString.indexOf(".");if(d==-1){n.decimals=0;n.magnitude=a*Math.pow(10,1-n.valueSubString.length)}else{n.decimals=n.valueSubString.length-d-1;n.magnitude=a*Math.pow(10,1-d)}}else{return undefined}}return n}function p(e,r,t){var i,n=1,a=10,o=r.getPluralCategories(),u,c={number:undefined,factor:n},l=function(t,a,o,l){if(l){u=C(o,a.toString(),t,true)}else{u=r.getDecimalFormat(o,a.toString(),t)}if(u){u=u.replace(/[\s\u00a0\u200F]/g,"");u=u.replace(/'.'/g,".");var f=u.match(s);if(f){var g=f[0];var m=u.replace(g,"");if(!m){return}var d=e.indexOf(m);if(d>=0){i=e.replace(m,"");i=i.replace(/\u200F/g,"");n=a;n*=Math.pow(10,1-g.length);if(c.number===undefined||i.length<c.number.length){c.number=i;c.factor=n}}}}};["long","short"].forEach(function(e){a=10;while(a<1e15){for(var r=0;r<o.length;r++){var t=o[r];l(t,a,e)}a=a*10}});if(t&&!i){a=10;while(a<1e15){for(var f=0;f<o.length;f++){var g=o[f];l(g,a,"short",true)}a=a*10}}if(!i){return}return c}function h(e){var r=sap.ui.getCore().getConfiguration().getFormatSettings().getTrailingCurrencyCode();if(e){if(e.trailingCurrencyCode!==undefined){r=e.trailingCurrencyCode}if(e.pattern){r=false}if(e.currencyCode===false){r=false}}return r}function C(e,r,t,i){var n,a={short:{"1000-one":"¤0000","1000-other":"¤0000","10000-one":"¤00000","10000-other":"¤00000","100000-one":"¤0 Lk","100000-other":"¤0 Lk","1000000-one":"¤00 Lk","1000000-other":"¤00 Lk","10000000-one":"¤0 Cr","10000000-other":"¤0 Cr","100000000-one":"¤00 Cr","100000000-other":"¤00 Cr","1000000000-one":"¤000 Cr","1000000000-other":"¤000 Cr","10000000000-one":"¤0000 Cr","10000000000-other":"¤0000 Cr","100000000000-one":"¤00000 Cr","100000000000-other":"¤00000 Cr","1000000000000-one":"¤0 Lk Cr","1000000000000-other":"¤0 Lk Cr","10000000000000-one":"¤00 Lk Cr","10000000000000-other":"¤00 Lk Cr","100000000000000-one":"¤0 Cr Cr","100000000000000-other":"¤0 Cr Cr"},"sap-short":{"1000-one":"0000 ¤","1000-other":"0000 ¤","10000-one":"00000 ¤","10000-other":"00000 ¤","100000-one":"0 Lk ¤","100000-other":"0 Lk ¤","1000000-one":"00 Lk ¤","1000000-other":"00 Lk ¤","10000000-one":"0 Cr ¤","10000000-other":"0 Cr ¤","100000000-one":"00 Cr ¤","100000000-other":"00 Cr ¤","1000000000-one":"000 Cr ¤","1000000000-other":"000 Cr ¤","10000000000-one":"0000 Cr ¤","10000000000-other":"0000 Cr ¤","100000000000-one":"00000 Cr ¤","100000000000-other":"00000 Cr ¤","1000000000000-one":"0 Lk Cr ¤","1000000000000-other":"0 Lk Cr ¤","10000000000000-one":"00 Lk Cr ¤","10000000000000-other":"00 Lk Cr ¤","100000000000000-one":"0 Cr Cr ¤","100000000000000-other":"0 Cr Cr ¤"}},o={short:{"1000-one":"0000","1000-other":"0000","10000-one":"00000","10000-other":"00000","100000-one":"0 Lk","100000-other":"0 Lk","1000000-one":"00 Lk","1000000-other":"00 Lk","10000000-one":"0 Cr","10000000-other":"0 Cr","100000000-one":"00 Cr","100000000-other":"00 Cr","1000000000-one":"000 Cr","1000000000-other":"000 Cr","10000000000-one":"0000 Cr","10000000000-other":"0000 Cr","100000000000-one":"00000 Cr","100000000000-other":"00000 Cr","1000000000000-one":"0 Lk Cr","1000000000000-other":"0 Lk Cr","10000000000000-one":"00 Lk Cr","10000000000000-other":"00 Lk Cr","100000000000000-one":"0 Cr Cr","100000000000000-other":"0 Cr Cr"}};o["sap-short"]=o["short"];var s=i?o:a;var u=s[e];if(!u){u=s["short"]}if(t!=="one"){t="other"}n=u[r+"-"+t];return n}function y(e,r,t,i){if(r.groupingSeparator&&e.includes(r.groupingSeparator)){e=e.replace(/^-/,"");e=e.replace(/^0+(\d)/,"$1");if(e.startsWith("0")||e.startsWith(r.groupingSeparator)){return false}if(t){e=e.replace(/[eE].*/,"")}if(r.decimalSeparator!==r.groupingSeparator&&e.includes(r.decimalSeparator)){return true}if(e.split(i).length!==2){return true}var n=e.length-e.lastIndexOf(r.groupingSeparator);var a=r.groupingBaseSize||r.groupingSize;if(n!==a+r.groupingSeparator.length){return false}}return true}function S(e){return e.indexOf("e")>0||e.indexOf("E")>0}function b(e){var r=o._shiftDecimalPoint(e,0);if(r.indexOf(".")>0&&!u.test(r.split(".")[1])){return undefined}var t=parseFloat(r);var i=""+t;if(S(i)){i=o._shiftDecimalPoint(i,0)}var n=parseInt(i);if(n!==t){return undefined}return n}function F(e,r,t){if(typeof e!=="number"){return NaN}t=t||o.RoundingMode.HALF_AWAY_FROM_ZERO;r=parseInt(r);var i=""+e;if(!S(i)){var n=i.indexOf(".");if(n<0){return e}if(i.substring(n+1).length<=r){return e}}if(typeof t==="function"){e=t(e,r)}else{if(t.match(/^[a-z_]+$/)){t=t.toUpperCase()}if(!r){return f[t](e)}e=o._shiftDecimalPoint(f[t](o._shiftDecimalPoint(e,r)),-r)}return e}function v(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function D(e,r){var t=Math.floor(Math.log(Math.abs(e))/Math.LN10);return Math.max(0,r-t-1)}function O(e,r,t){var i={numberValue:undefined,cldrCode:[]};var n=Number.POSITIVE_INFINITY;var a,o;for(a in e){for(o in e[a]){if(o.indexOf("unitPattern")===0){var s=e[a][o];var u=s.indexOf("{0}");var c=u>-1;if(c&&!t){s=s.replace("{0}","").trim();c=false}if(c){var l=s.substring(0,u);var f=s.substring(u+"{0}".length);var g=r.startsWith(l)&&r.endsWith(f);var m=g&&r.substring(l.length,r.length-f.length);if(m){if(m.length<n){n=m.length;i.numberValue=m;i.cldrCode=[a]}else if(m.length===n&&i.cldrCode.indexOf(a)===-1){i.cldrCode.push(a)}}}else if(s===r){if(t){i.cldrCode=[a];var d;if(o.endsWith("-zero")){d="0"}else if(o.endsWith("-one")){d="1"}else if(o.endsWith("-two")){d="2"}i.numberValue=d;return i}else if(i.cldrCode.indexOf(a)===-1){i.cldrCode.push(a)}}}}}return i}function N(e,r){var t="",i,n;for(var a in r){n=r[a];if(e.indexOf(n)>=0&&t.length<n.length){t=n;i=a}}return{symbol:t,code:i}}function L(e){var r=e.value;var t=N(r,e.currencySymbols);if(!t.code){t=N(r,e.customCurrencyCodes);if(!t.code&&!e.customCurrenciesAvailable){var n=r.match(/(^[A-Z]{3}|[A-Z]{3}$)/);t.code=n&&n[0]}}if(t.code){var a=t.code.length-1;var o=t.code.charAt(a);var s;var u=/[\-\s]+/;if(/\d$/.test(o)){if(r.startsWith(t.code)){s=a+1;if(!u.test(r.charAt(s))){return undefined}}}else if(/^\d/.test(t.code)){if(r.endsWith(t.code)){s=r.indexOf(t.code)-1;if(!u.test(r.charAt(s))){return undefined}}}r=r.replace(t.symbol||t.code,"")}var c=false;if(e.duplicatedSymbols&&e.duplicatedSymbols[t.symbol]){t.code=undefined;c=true;i.error("The parsed currency symbol '"+t.symbol+"' is defined multiple "+"times in custom currencies.Therefore the result is not distinct.")}return{numberValue:r,currencyCode:t.code||undefined,duplicatedSymbolFound:c}}return o});