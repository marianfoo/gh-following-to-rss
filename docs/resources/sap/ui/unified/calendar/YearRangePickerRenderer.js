/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","./YearPickerRenderer","./CalendarDate","sap/ui/core/date/UniversalDate","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a,r,i){"use strict";var n=e.extend(t);n.apiVersion=2;n.getAccessibilityState=function(){return{role:"grid",readonly:"true",multiselectable:false,roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_RANGE_PICKER")}};n.renderCells=function(e,t){var n=t.getProperty("_middleDate")?t.getProperty("_middleDate"):t._getDate(),l=new a(n,t.getPrimaryCalendarType()),s=new a(l,t.getPrimaryCalendarType()),o=i._minDate(t.getProperty("primaryCalendarType")).getYear(),d=i._maxDate(t.getProperty("primaryCalendarType")).getYear(),g,p="",c="",u=t.getId(),y=t.getColumns(),Y=t.getYears(),f="",m,C,S;s.setYear(s.getYear()-Math.floor(t.getRangeSize()/2));s.setYear(s.getYear()-Math.floor(Y/2)*t.getRangeSize());if(s.getYear()<o){s.setYear(o)}else if(s.getYear()>d-Y){s.setYear(d-Math.floor(Y)*t.getRangeSize()+1)}g=new a(s,t.getPrimaryCalendarType());g.setYear(g.getYear()+t.getRangeSize()-1);if(y>0){f=100/y+"%"}else{f=100/Y+"%"}for(S=0;S<Y;S++){C=t._oFormatYyyymmdd.format(s.toUTCJSDate(),true);m={role:"gridcell"};if(y>0&&S%y==0){e.openStart("div");e.accessibilityState(null,{role:"row"});e.openEnd()}e.openStart("div",u+"-y"+C);e.class("sapUiCalItem");if(!t._checkDateEnabled(s,g)){e.class("sapUiCalItemDsbl");m["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-year-start",C);e.style("width",f);e.accessibilityState(null,m);e.openEnd();if(i._isBetween(t._oDate,s,g,true)){t._iSelectedIndex=S}p=t._oYearFormat.format(r.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);c=t._oYearFormat.format(r.getInstance(g.toUTCJSDate(),g.getCalendarType()),true);e.text(p+" - "+c);e.close("div");if(y>0&&(S+1)%y==0){e.close("div")}s.setYear(g.getYear()+1);g.setYear(g.getYear()+t.getRangeSize())}};return n},true);